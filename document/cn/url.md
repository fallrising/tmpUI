# 处理资源路径和链接

由于 `tmpUI` 实质上是一个单页应用，因此我们需要单独处理页面内的链接。 

通过给 `<a>` 标签加入 `tmpui-app="true"` ，在页面初始化时，`tmpUI` 会查找设置了此属性的 `a` 标签，并将链接转换成适当的应用内路由。
比如 `<a tmpui-app="true" href="/login">` 在页面初始化之后，会自动转换为 `<a href="?tmpui_page=/login">`   

为什么要这么做? 为了更好的兼容性。  
尽管在内部路由系统中，使用 `#` 也可以直接拦截所有的 `URL` 并处理其路由，但是如果访客 是从外部链接进入，则无法在服务器端日志中得到记录。因此我们采用查询符号来将这些请求 作为 `GET` 参数。   

而在某些程序中，带有 `#` 的链接，在渲染时(或者复制链接时)，可能不会处理 `#` 及其之后内容。   
此外，这种形式的链接，无需在服务器端进行任何配置(比如 `Nginx` 的重写配置)。

# 子目录下的静态资源路径处理 
对于图片等资源来说，可以通过标签设置 `tmpui-root="true"` 来应用额外的路径重写规则。这通常是在设置了 `siteRoot` 参数时的配套设置。  

比如，当设置了 `siteRoot` 为 `/subdir/` 时, `<img src="a.jpg" tmpui-root="true">` 将会被扩展为 `<img src="/subdir/a.jpg" />`  

请注意，`siteRoot` 配置的路径，后面必须跟上 `/`。如果在资源组中配置的地址中包含 `/`， 则不会应用 `siteRoot` ，因为 `tmpUI` 会认为你想要配置的是绝对路径，这与 `URL` 的路径 规则是基本一致的。